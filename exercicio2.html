<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>OpenCV.js - Exercício 2</title>
  <script async src="opencv.js" type="text/javascript"></script>
  <script async src="impl.js"   type="text/javascript"></script>
</head>
<body>
	<h2>OpenCV.js - Exercício 2</h2>
	<p id="status">OpenCV.js is loading...</p>
  
	<div class="inputoutput">
	  <canvas id="canvasOutput" ></canvas>
	</div>
	
<pre>
Crie um código que me permita gerar uma matriz quadrada com o tamanho X, 
o tamanho X deve ser um parâmetro da função. O valor da maioria das casas da 
matriz deve ser 255, exceto as diagonais que devem ser 1, ex:

gerarX(5) ->

[[  0,	255,  	255, 	255, 	  0],
 [255, 	  0, 	255, 	  0, 	255],
 [255, 	255, 	  0, 	255, 	255],
 [255, 	  0, 	255, 	  0, 	255],
 [  0, 	255, 	255, 	255, 	  0]]
</pre>
	
	<script type="text/javascript">
function gerarX(tamanho) {
    matriz = [];
    for (let i = 0; i < tamanho; i++) {
        matriz[i] = [];
        for (let j = 0; j < tamanho; j++) {
            if (i === j || i === tamanho - j - 1) {
                matriz[i][j] = 0;
            } else {
                matriz[i][j] = 255;
            }
        }
    }

    console.log(matriz);
    return matriz;
}

	
	
	
var Module = {
	// https://emscripten.org/docs/api_reference/module.html#Module.onRuntimeInitialized
	onRuntimeInitialized() {
		document.getElementById('status').innerHTML = 'OpenCV.js is ready.';
		
		//A sua função será chamada aqui
		img = gerarX(5);
		//E a matriz será exibida aqui
		imshow(img);
  }
};
	
	</script>
</body>
</html>